<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">Th√¥ng b√°o nh√≥m</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f5f5f5;
            padding: 20px 0;
        }
        .notification-container {
            max-width: 900px;
            margin: 0 auto;
        }
        .notification-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 15px;
            padding: 20px;
            border-left: 5px solid #007bff;
        }
        .notification-card.urgent {
            border-left-color: #dc3545;
        }
        .notification-card.success {
            border-left-color: #28a745;
        }
        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .notification-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        .notification-group {
            display: inline-block;
            background-color: #e9ecef;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            color: #495057;
        }
        .notification-time {
            font-size: 12px;
            color: #999;
        }
        .notification-body {
            color: #666;
            line-height: 1.6;
            margin: 10px 0;
        }
        .notification-action {
            margin-top: 10px;
        }
        .notification-action .btn {
            margin-right: 10px;
        }
        .filter-section {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }
        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav th:replace="fragments/navbar :: navbar"></nav>

    <div class="notification-container">
        <!-- Header -->
        <div class="mb-4">
            <h1>üì¢ Th√¥ng b√°o h·ªôi nh√≥m</h1>
            <p class="text-muted">Qu·∫£n l√Ω v√† theo d√µi t·∫•t c·∫£ th√¥ng b√°o t·ª´ c√°c h·ªôi nh√≥m c·ªßa b·∫°n</p>
        </div>

        <!-- Filter Section -->
        <div class="filter-section">
            <div class="row">
                <div class="col-md-6">
                    <input type="text" class="form-control" id="searchNotification" placeholder="T√¨m ki·∫øm th√¥ng b√°o...">
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="filterGroup">
                        <option value="">-- T·∫•t c·∫£ nh√≥m --</option>
                        <option value="group1">Nh√≥m 1</option>
                        <option value="group2">Nh√≥m 2</option>
                        <option value="group3">Nh√≥m 3</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="filterStatus">
                        <option value="">-- T·∫•t c·∫£ tr·∫°ng th√°i --</option>
                        <option value="unread">Ch∆∞a ƒë·ªçc</option>
                        <option value="read">ƒê√£ ƒë·ªçc</option>
                        <option value="archived">ƒê√£ l∆∞u tr·ªØ</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Notifications List -->
        <div id="notificationsList">
            <!-- Sample Notification 1 -->
            <div class="notification-card urgent">
                <div class="notification-header">
                    <div>
                        <div class="notification-title">üî¥ Cu·ªôc h·ªçp h·ªôi nh√≥m kh·∫©n c·∫•p</div>
                        <span class="notification-group">Nh√≥m EV Charging</span>
                    </div>
                    <div class="notification-time">2 gi·ªù tr∆∞·ªõc</div>
                </div>
                <div class="notification-body">
                    S·∫Ω c√≥ cu·ªôc h·ªçp kh·∫©n c·∫•p c·ªßa h·ªôi nh√≥m v√†o h√¥m nay l√∫c 15:00 t·∫°i ph√≤ng h·ªçp ch√≠nh. 
                    Vui l√≤ng chu·∫©n b·ªã c√°c t√†i li·ªáu li√™n quan v·ªÅ vi·ªác duy tr√¨ m√°y s·∫°c ƒëi·ªán.
                </div>
                <div class="notification-action">
                    <button class="btn btn-sm btn-primary">X√°c nh·∫≠n tham d·ª±</button>
                    <button class="btn btn-sm btn-outline-secondary">B·ªè qua</button>
                </div>
            </div>

            <!-- Sample Notification 2 -->
            <div class="notification-card success">
                <div class="notification-header">
                    <div>
                        <div class="notification-title">‚úÖ H·ª£p ƒë·ªìng m·ªõi ƒë∆∞·ª£c ph√™ duy·ªát</div>
                        <span class="notification-group">Nh√≥m Qu·∫£n l√Ω Xe</span>
                    </div>
                    <div class="notification-time">1 ng√†y tr∆∞·ªõc</div>
                </div>
                <div class="notification-body">
                    H·ª£p ƒë·ªìng s·ªë HD-2025-001 ƒë√£ ƒë∆∞·ª£c t·∫•t c·∫£ th√†nh vi√™n nh√≥m ph√™ duy·ªát. 
                    B√¢y gi·ªù h·ª£p ƒë·ªìng c√≥ hi·ªáu l·ª±c t·ª´ ng√†y 22/11/2025.
                </div>
                <div class="notification-action">
                    <button class="btn btn-sm btn-info">Xem chi ti·∫øt</button>
                    <button class="btn btn-sm btn-outline-secondary">ƒê√£ xem</button>
                </div>
            </div>

            <!-- Sample Notification 3 -->
            <div class="notification-card">
                <div class="notification-header">
                    <div>
                        <div class="notification-title">üìù Y√™u c·∫ßu c·∫≠p nh·∫≠t th√¥ng tin th√†nh vi√™n</div>
                        <span class="notification-group">Qu·∫£n l√Ω Nh√≥m</span>
                    </div>
                    <div class="notification-time">3 ng√†y tr∆∞·ªõc</div>
                </div>
                <div class="notification-body">
                    H√£y c·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n c·ªßa b·∫°n tr√™n h·ªá th·ªëng bao g·ªìm: 
                    s·ªë ƒëi·ªán tho·∫°i, ƒë·ªãa ch·ªâ, v√† s·ªë CCCD. ƒê√¢y l√† th√¥ng tin b·∫Øt bu·ªôc cho c√°c th√†nh vi√™n nh√≥m.
                </div>
                <div class="notification-action">
                    <button class="btn btn-sm btn-warning">C·∫≠p nh·∫≠t ngay</button>
                    <button class="btn btn-sm btn-outline-secondary">ƒê·ªÉ sau</button>
                </div>
            </div>

            <!-- Sample Notification 4 -->
            <div class="notification-card">
                <div class="notification-header">
                    <div>
                        <div class="notification-title">üí∞ B√°o c√°o chi ph√≠ h√†ng th√°ng</div>
                        <span class="notification-group">Nh√≥m EV Charging</span>
                    </div>
                    <div class="notification-time">1 tu·∫ßn tr∆∞·ªõc</div>
                </div>
                <div class="notification-body">
                    B√°o c√°o chi ph√≠ b·∫£o tr√¨ v√† v·∫≠n h√†nh cho th√°ng 11 ƒë√£ ƒë∆∞·ª£c c√¥ng b·ªë. 
                    T·ªïng chi ph√≠: 5,000,000 VND. Vui l√≤ng ki·ªÉm tra chi ti·∫øt t·∫°i ph·∫ßn b√°o c√°o chi ph√≠.
                </div>
                <div class="notification-action">
                    <button class="btn btn-sm btn-info">Xem b√°o c√°o</button>
                </div>
            </div>
        </div>

        <!-- Empty State (hidden by default) -->
        <div id="emptyState" style="display: none;">
            <div class="empty-state">
                <div class="empty-state-icon">üì≠</div>
                <h5>Kh√¥ng c√≥ th√¥ng b√°o n√†o</h5>
                <p class="text-muted">B·∫°n ƒë√£ xem h·∫øt t·∫•t c·∫£ th√¥ng b√°o t·ª´ c√°c nh√≥m c·ªßa m√¨nh</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light text-center py-4 mt-5 text-muted">
        <p>&copy; 2025 EVCC System. All rights reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Filter functionality
        document.getElementById('searchNotification').addEventListener('keyup', filterNotifications);
        document.getElementById('filterGroup').addEventListener('change', filterNotifications);
        document.getElementById('filterStatus').addEventListener('change', filterNotifications);

        function filterNotifications() {
            const searchTerm = document.getElementById('searchNotification').value.toLowerCase();
            const selectedGroup = document.getElementById('filterGroup').value;
            const selectedStatus = document.getElementById('filterStatus').value;

            const notifications = document.querySelectorAll('.notification-card');
            let visibleCount = 0;

            notifications.forEach(notification => {
                const text = notification.textContent.toLowerCase();
                const groupTag = notification.querySelector('.notification-group')?.textContent || '';
                
                const matchesSearch = text.includes(searchTerm);
                const matchesGroup = !selectedGroup || groupTag.includes(selectedGroup);
                const matchesStatus = !selectedStatus; // Add status filter logic as needed

                if (matchesSearch && matchesGroup && matchesStatus) {
                    notification.style.display = '';
                    visibleCount++;
                } else {
                    notification.style.display = 'none';
                }
            });

            // Show empty state if no notifications match
            document.getElementById('emptyState').style.display = visibleCount === 0 ? 'block' : 'none';
        }
    </script>
</body>
</html>
